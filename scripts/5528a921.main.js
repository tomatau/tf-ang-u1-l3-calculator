function CalculatorCtrl(a){function b(b){var c=b.price*(b.rate/100);a.charges.subtotal=b.price+c,a.charges.tip=a.charges.subtotal*(b.percentage/100),a.charges.total=a.charges.subtotal+a.charges.tip}function c(){a.earnings.tiptotal+=a.charges.tip,++a.earnings.count,a.earnings.average=a.earnings.tiptotal/a.earnings.count}function d(a){b(a),c(a)}var e={charges:{subtotal:0,tip:0,total:0},earnings:{tiptotal:0,count:0,average:0}};a.resetVals=function(){a.charges=$.extend({},e.charges),a.earnings=$.extend({},e.earnings),a.inputs={},a.submitted=!1},a.resetVals(),a.submit=function(){a.inputsForm.$valid&&d(a.inputs)}}angular.module("Calculator",[]).controller("CalculatorCtrl",["$scope",CalculatorCtrl]);